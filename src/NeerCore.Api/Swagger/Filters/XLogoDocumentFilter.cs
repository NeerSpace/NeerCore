using Microsoft.OpenApi.Any;
using Microsoft.OpenApi.Models;
using Swashbuckle.AspNetCore.SwaggerGen;

namespace NeerCore.Api.Swagger.Filters;

/// <summary>
///   Swagger document filter to show NeerCore logo in ReDoc.
/// </summary>
public sealed class XLogoDocumentFilter : IDocumentFilter
{
    // TODO: Pass it dynamic from params
    private const string LogoPath = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYwAAAB/CAYAAAD8SPVJAAAACXBIWXMAAAsSAAALEgHS3X78AAAW4ElEQVR4nO2dbYwd1XnHz8YG22Bj71K7LU4CLISQ7G2ayBvSqpEcYLefiCBXXTsfGgJRtFtBGluqKq+UlJA0Fbv9kDpKibIr1Q0tH8CrbIzgS+OtDR+T7EpJu7fNGxs7KuHF4GuDwa4N3uhZnjHj8XmbmefMzJ37/0kr2+u5M+fOvXP+5zyvPcvLywoAAABw8S7cIQAAAD5AMAAAAHgBwQAAAOAFBAMAAIAXEAwAAABeQDAAAAB4AcEAAADgBQQDAACAFxAMAAAAXkAwAAAAeAHBAAAA4AUEAwAAgBcQDAAAAF5AMAAAAHgBwQAAAOAFBAMAAIAXEAwAAABeQDAAAAB4AcEAAADgBQQDAACAFxAMAAAAXkAwAAAAeAHBAAAA4AUEAwAAgBcQDAAAAF5AMAAAAHixumq36fv/8vLHP/SnV37eddyv/ufEplBj6P29tWeu3rL2jO2Y/z+9vPTBbVd8LdQYAACgavQsLy9XakjNRuvpqR/ctH3zNZdZj/v5f59ULz13Wvz6q1b3qFs+sUWtXt1jPe6Be4+oxR+/fv3s4sAR8UEAAEAFqZRJqtlo3aOU2v74t19yHnvtjetXJndp6LwusTj8xAkSC/rrXvEBAABARamMYDQbrU3RBHzowAnVmn/devzadavU1uuuFB3Dxr7Lned849Rbat/EC9E/72w2Wp8QHQQAAFSUKu0wSCw2Rv94/OFjzhfQ5C65y+i/eYPzmMcePqZef+2t+K8eFBsAAABUmEoIBq/SPxv/HZl8fnToNevryHR0wweuEhnDe29cr9ZfZfeb0K7nqX9/Jfnr7WxKAwCAWlOVHcZ3db/cN/m884W/v3WdWrNuVa6Lr/E0b8VMUUmwywAA1J7SBaPZaNFke63u/1567px66tFLVvSX8P4/2ug8xvV6l6P78W8fU7/+mTHS9lp+HwAAUFtKFYxmo3WdUuortmPIl0GOZhvkrKafLFy9ZY3ztcd+e05nikqymx33AABQS8reYWhNUXHIwfzkvx13nsjHYZ2EHOY3fcg9x3/rS88lHd06NsI0BQCoM6Ul7rGj+F99j5/6wU3Klcx39Fen1MnjZ73HQP4P+rFBjveJL/7G+5xKKSTzAQBqSSmCwaabI/EwWhe33bVJfeHrWwsdJ5nCxoZ/6bO7iPPE7OLAXcEHBwAABVOWSWpvGrFQnsl80mhyLnxAMh8AoJYUvsPgyfRwltduvX6N+taTN8oPSgOJ09/dk9my9Mzs4gBEA3QUzUZrhNyBVH9TKbXHMvZx/nNmdnFgqYz32Gy0hpRS2/ifE5ZDJ5VSbaXU3OziwEKO69E9GeV/jvJ9MjGtlFq5L7OLA5NZr1lFyhCMnyil/jjr629v9qr7v3aN7KA0/M1fPGsLo/Xh3tnFAadTvwo0Gy168OY1QxmX+MI3Gy16wKYyvnyJH8DUD5/hutOziwNjGcfie420jMeOp/G1pcbnMX6aeEdik2FaaKyTRUyM/D0dcYiZjdRjbTZae/iakThlga45nuP1laHQ8uacq5BZLNSKaaqtRsY2qy1b7Q7wPFDuR06xUBwx1RGCwQ+E6fdlr5D6oxVks9GiP+d4Up0peVySxFfIE81GS/F9p1XxXIgL8uRL1x3KeapeHvOE1AIjSaCx7rB9h3i3NeHYSfiSR2wqRWE+DM652J33PMvnlfrH3amillJx7uyyevIRdxivB52UzGdaXW7jh7VK0KSxv9loHWQzQV2hlS29x2d5FyMGT5jzAhNwEpqM55uNlsQku0Kz0ZoKNFbj+fj+7BcSi1pRpNP7u2kd3SaW/veMTyJdJi67vEfd9imx/LvKJ/PxSso28Zp2H2VDD/x8BQVNGpq0pngizjVpksCS0OYw6fiwjT+XvGPtp/ecw1SW9bpTge9PR1OISarZaFGY6XbJc+6bfEENfPRKdf3NayVPu8In7+5Th59or5QmyUmUzJd7ZxUQlyCMJmzsVaKfdxvDZTlfC2Qb7zgymX14N3bQwzwSOWy1Dm3e7fQ6HL+9PNbhLCY1XgQcdCxk4mPVOrT5PEMeTvzo+D0OgYqup/UzJRzjef0elSS40ztLzoUv171/rfrG924IMm5qkkQZ3kJUMpmPv+BJ+9ucZrtutfd6XCeT8zn2wG9zCBtNGMNS101D3mvEJmDliPbJ9R54tW6bwFILEe8i9jjMRYNpopM8xGKJncjTacaq3rnXo3wfLrqHbEZ71vDSab4/qYMRWIT6Jb9zZVKESepBCbEgJ/d737fmot8d+fkZ5dOdLwu33rlJcvdS1c58utWU7kEsxSxFEw1NYrOLAzuUUrQyMInWkLSdvyho4uP3SD9UAXPQI9BglCciL5qN1n6LWNACoS/LroV2DyzUOyyH7ff1NfGkvd8iFjRp35BFLNQ793qQx5vcPZm+P2M02WeNXOPPtRZioUILBudc7JI411//w1a166F3qyvWX1zK3FFFNhefG/8DqVNVNZkv+ZC0eSeRfJhGynYwk3mEhcNkHquqryUVLJL0HvsM4h0xwf4nKyykpuNoMhvOG8bL35lBzfdGxaPcPDA5mpd4pyISgUXj1ZxLu3jKKk51JfQOQ2Rl/bHbN6iBwbf9FZ++f/Ml/+9ZHDA1dM3GR8XawFYqYorNCcmHM3o4dCv5Sqzg+UHX2cWHJKNzyoYmcV6Z2lbvUzYh5/8zTdbjkrkBbHYa5lyHJKMuJzjvmHS7IBKL4TxJdy7YDKa7jxCLBMEEQyLngrhywyr1uT1/eOHfd3zm6pWJPM6KacqjpWsWaGcjRNU68+lWnTOJP+NUyeRjWmlKh16WTmz1rpuIex2fy6hhItStsHPDTnKT+cVoQmOh1wlbm8UidECDbqHRDilSnUoQwZDKuSB23r/5kiq1NIknTVOUbEdtXaWha1PhQyEqscvglWdSMJaiB4T/TD4s/XlDJaXgyBvdw1zLuHn+PIwTsW6Xwb/TTdJty7lywwKnW5kPWb4/JjEZKyj6TSeqhWXbdxKhdhipiwvqIBPUHX959SX/Qw7wIk1T5MugnY4AVUnm0+VeJB9y3S6jSn4C3URS20Q+noh1uwLTLsO0u8gU7ZMS0+7lku8P7y5M/oOisvl196O/5omhmRDPw+CcizslzmUzB5FpinYU1K8igjrj/f3YUfWRj693nptyOHz9E7SboesJRWRRMt/e2cWBExIny4jNHBUxrTETjHAeQBVWXyYHa52ZNAiBroSL7jNeKsKJS7uCZqM1rRGCEc3uxuiQDzQ8HaZdzJAlMq8rERUMzrkQcXTTBE15FjZIUKhfRbyF6y/+6/TKj4vN15xYyeHw3TnUJZmPV3RJ08BccutPotBstJI5GZEpqwrOwK4zGfBnMq0x4VAJl95IyHllrHMgF/m5zWgEgzLNRxI7B9PuoshEzCX+PiWFeBSCcTHSJimaCK/NexKTySkJTfZZndKefbovQLuMnfdtyXQtDbvYz1MGuhWdKRu3ymYpU/hl3THmohj+HqcwwWA/k07ULwgZRyfpPsdCJ2kWWlPkHcqExBATjGaj9WGpnAuKiko6tU0c+61/S9Yk1Cs8jc+jJsl8vsl6ih/c5ENflfBVUwhmrWEHuHUiNtybhRJMibpJOP7d0QlbO1SFXgemZyCqbtv1KOEdhkgpb8q5uOW2DV7H0mT/WI5wWjJl7Zt4IdVrOjmZz5B7MWOaSPj3ldtlWEwu3bDDUBkn4jImYV0km0vYyhhntCMy+U32cPHHuhe6dCIiGM1Ga3eInAsXFBUV919kgWpGpfFLdHgyn4+z2+f/y96mm3IPSplsSsAVUlwVc50rMEE3ztJyHziR0XT9qArvVJ0SRNOSWzDYFi8y8elyLkwkI6TykLbIYCcm8yUqaUa0XaGLvPJKPvi9PmUpQsAPq06wjDulGmJK4os+Z104aBmCof08YhOu1nQWdkhOhh1joGeIepRMdGPYrcQOI2jOhQnBSrIr/bvTJP11aDKfblXu61yshFmKJxpTJdNuKuNgFAxHldeiMV7Tskov1azIJVkGPZ4NWrQc7zbhyCUYkjkXaXwDlA9BUU6SZPFldFgyXxZzlO24QgsScrTKs6aompIcpWWRRTCQuZwCLnS5w+O+RcLRFdFUmQVDOuciWR/KBPkbqEKtNFSP6tAB/1y6KJlPiKCd+dhZl9z+L/lOsoZSISp0fSl6CPln2VJEz1a/qBvRCkYFzXWmcVYmcIGr2vZ5JhFOcDvdWlRNNpEncW+TRM6FYnOULz869KrEJbXQudOYmihfRIiNfD9DZX/n2V3Ej0+Kji7D2JdRgR4WbW7u1G2r59S1j+KJfRWhY8w45AyPJUzavrNRB8gZ3qHUjsw7DO4g91WJG0LmIN9op1vv2uSdo5GWNIl5WUJyLXw1cEe+PP6LCJ2PYFuJoYbBy15XGJtgmEShahO0yyFeKbgfyxhXDnY9OyO826hdNFVepzeZpE7mHQTlU1ASnQ/kN6AyHdLsvG9zqp0OiYVQocOjIZP4eIucnCwW0k60lpyMMsqez6Rt/VkzbFFQVRIMm9mpU4TtIrjB1Q4WDptJt5/DcGuVu5FLMLiAnojDlsp0+DqyaSfgG37rA50rjT+CoqrS+Dsc3BO4EKGEOSpC94AU6fyOhKIbzVBxjEmLFh9AGatdbZ+JxJ8+r6kcLBzDhnavEb1soqrNTiN38cHZxYG9nLiXy59Bq3WKfvrC1/1yHEg0/vnLMqG1lFeRJuJJ0BT1xOziwNNSJ0ti6HuhhMsdhCxIuBCJW4iGPx2MLpM7PmnpCultK6GQnjExjwsp6sbZUZMr5zHN8POki5Si9zPF+R0dj1S1WhKM7+c9Ca3afarUEuScPnzgxMpqPw9UhiRN5rZgD3Ey5YVO2ivKXJRFMKbr1By/KCztROO7vwWNqJQxEbsS83Tj7EgTDjvG5zhPKAnVXxutQ39wkdIgs4sDB5RSz0icK83qfadHRVsbqy/rSVWKJG2FWwcPFtAToyjBqFU/7YpjKtiXnIiTFJo3w+jG6hpnx7bZ5TB1U3RUlVocZ0ay+KCIL4Myrn13DbQz8C1UqOPNc8vqpRTVbgU7+j1DpjyJE5kwFBoMSa3jz6uApe1qcuVqCgYo7DPi75/PTihJaWVnJLB0RiwzolAMMcFgW/wjEudKU/YjzQ7BdC0fEaC6VYI9w4tonlT0Q1eLFVTFMbVdvcg3wZOWzqlc5HdCd61kiXVTlFGnf5dM/raO34VLt2ilXcZn856Esrmpiiz1n3BByXNUg+qpR7OZisjM9PjDx6ylSSjnQrB2FeVc/ETqZDoszu5hiRIavFKaT/yaeiAPdVmJjsLge64LVJgzhBfrOt4NFfEZWfp0J4WNHN8zmu9qIeMMBb+vBY0/BoIRh5LPmo0WJfN9Je+5yJdBvTF8kvTIl3HL7X6mqTNvnFff+Nv/W/kzgsSGenx/zHAO6rnRCTkXMXS5F2KNaWiCMjwQI11UYrwweAGw33C9ccPvdYKhOGLnhsBj1wlb2xAYMW2K5ONch06llmHf0i1aVVnJfOTP8PkZ3L5B7Xro3Zecw2SaIn+KoKN7dwGObmV4AKUjNLRJfN1Y8jkkfD8PGlank6bkRV4caBsthewgx/4H3fdvUpc7Yyifr9jm38md7mr5HIgLRlnJfGnQdfUzmZ2Ecy4OiL4RDWwO0EWaSMfgmwQIvgwhYqY/U8tV0+4iwtZBTvxz4vHqdkKm3UWEKbx6TydWgWWRr2XP+RA7DMURQEfznidK5gsBJeslzV3k2P7hf77TlEk456IIR7cyrO6WpMtoVLV9a13giXLeki3tLG7naDs6JSkaHBWly0Egxm2Z+TxO04JmogNFQ2cSVnUw1wYRDEZkgqRkPio9Lg2ZsXSd8yLTVICci5DFBePoJoFQCUO6h7wW4YNlQCtTLud+3FLOvc3BC76r1UnLypZEYyrvW+UJ3dTYasYzYW3MMk4Sjf1S5k4ym8VFiIRTSpR4h6/77JIRYh1JMMEoK5kvDWSaSnb5i0xT+yafl3J0/zR0zkWEJfciSEmIioRvdiw0ucR6flBzqEgobE2QUlXo5UnK1gholCurpt5t8MQ7bxG3Bd9eJbFxmhjJ26iI7/M8m82SzwmJ0jIfk2nBw/6b+Tp3hJQOq01CvozDeU8SJfP5NllKA0VY/fDQqxf5SqR6hTOF9OxmdA/9QuCmNNOaZLJRS/RONyDR6yPJAvf+SP1ZclTbsCYUOqI/ttsYV5baXbEJ2+WQXkrbqyQ2TpNpS8XqoM3wPTGFFcfHOpQig3yCX6v4ux0VdTTdjxG+f6OWsNmFOpQFUaEFg5L5mo3WIxK5GbTq/85/3CQzsBiRaeqBe4NYjL4ZOuciwpJ7Ebrg3IxGMFaydXkHAvIznrf4Ik/GgxbTUUQ0YeaJUMojbnMsGvsd47wQjcWTewguiH6O+7Hk42/qFEL6MCJEIqaiZL4QULht0jQlwFGp9+6JaUUbdGVjad8Ks1R+SCT6pCr18mfl6uOQFyoqOZhnV8tO8EFLiZNOYSmlv6nyBBcM6c58599aljjVJZBp6j03rpE8ZVE5FxG6CXquIEebNloKBQkzscA7ih4Km5X+/Lhz3DD7FiTPvcCTo0gFYh7nYCDT5mQBlZKnuXdLbcRCFbTDUFLJfI1brlDvWtUjM6IEZJr6qwfy1aWKUUjORQQ76XSOuqJMQqZdDHYZbsb5Z4xFYrCI3h9kU59dHOjja+eZ1GbY/DQYopQH3Qu6LwLjbPM5+pL5K+xfGBPajU+yUIzVsclXz/JymBV7Em6y9E9ZX08T+tTB9wXr5x0x8cXf5HV6kzB+uMAwWgBywz6wyKxpc+DOxJogFd7UKsU4F2ILppk0K33eGUeLHVNdrIhIfJa6wWdXmGCotz+II1k781FxwAB+Bi13/9nP1KmTmUNqqbhgkb4LAAAohKJMUhGZkvkCOaWN7Pnme7K+9KcQCwBAXSlUMLIm89lKj4eA8j3StG2NUVT5DwAAKJzQiXs6UiXz7bxvi7XH95vnlHo9hTu9Z5VSV3kUGKDcjLE//4X/id/OuXg6zQsAAKCTKNoklaozHzVH+uTdfdZjXnleqRMv+/+0X6SeGO5rb77mMnXbXe4GTszJgnMuAACgcAoXDMZrctVVlI3zxim/yT9J27MALpnCKDrLg3sKzrkAAIDCKUUwfJL5qDCgrXbU+fNv7y6ycPaMUqc8zFgkVnd8xulsf6bInAsAACiLsnYYypbMZyo9Hufky0qdz1FMduX1593HkUmMTGOm0xRcXBAAAEqjNMGwdeajMh02UxTtEF71695qhJzlr3mcg8ZBjncDe5GgBwDoFsrcYWg7811/81pnzsUrQu0xXm377TJuvXPTyrgSIOcCANBVlCoYzEW5Cy5TFE3yZ4Ua8JFJ6/iLfsdqckGQcwEA6CpKF4x4Mh85mF05F+R7kIRyON485z5hIpnvEeRcAAC6jSrsMIgHybH86fs3Ww+icNg8jm4TvtFWvPs5id0FAKAbKbT4oI1H97440f+BdX9iOmR5WfWcPb1qXajrX77urdM9Pcp5M3789Gvf2fXQ1sdCjQMAAKpKZQQDAABAtamKSQoAAEDFgWAAAADwAoIBAADACwgGAAAALyAYAAAAvIBgAAAA8AKCAQAAwAsIBgAAAC8gGAAAALyAYAAAAPACggEAAMALCAYAAAAvIBgAAAC8gGAAAADwAoIBAADACwgGAAAALyAYAAAAvIBgAAAA8AKCAQAAwAsIBgAAAC8gGAAAALyAYAAAAPACggEAAMALCAYAAAAvIBgAAAC8gGAAAADwAoIBAADAjVLqd/8NBpkNTFaLAAAAAElFTkSuQmCC";

    /// <inheritdoc cref="IDocumentFilter.Apply"/>
    public void Apply(OpenApiDocument swaggerDoc, DocumentFilterContext context)
    {
        // need to check if extension already exists, otherwise swagger
        // tries to re-add it and results in error
        if (!swaggerDoc.Info.Extensions.ContainsKey("x-logo"))
        {
            swaggerDoc.Info.Extensions.Add("x-logo", new OpenApiObject
            {
                { "url", new OpenApiString(LogoPath) },
                { "altText", new OpenApiString("") }
            });
        }
    }
}